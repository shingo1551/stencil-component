import{r as t,h as o,H as e}from"./p-966be27e.js";import{c as n}from"./p-32c4eee1.js";const{state:i}=n({count:0,list:[{text:"lean TypeScript",done:!0},{text:"build Stencil App",done:!1}]});function s(){i.count=i.list.reduce(((t,o)=>t+(o.done?0:1)),0)}function l(){localStorage.setItem("todo",JSON.stringify({list:i.list})),s()}!function(){const t=localStorage.getItem("todo");if(t){const o=JSON.parse(t);i.list=o.list}s()}();const c=class{constructor(o){t(this,o),this.loading=!0,this.disabled=!0,this.onPurge=t=>{t.preventDefault(),i.list=i.list.filter((t=>!t.done)),l()},this.onAdd=t=>{t.preventDefault(),i.list.push({text:this.input.value,done:!1}),l(),this.input.value="",this.disabled=!0},this.onKeyUp=()=>{this.disabled=!this.input.value}}render(){return((t,o)=>t.loading?setTimeout((()=>t.loading=!1),0):o)(this,o(e,null,o("h2",null,"Todo"),o(r,{purge:this.onPurge}),o(a,null),o(p,{comp:this})))}},r=({purge:t})=>o("span",null,i.count," of ",i.list.length," remaining [",o("a",{href:"",onClick:t},"purge"),"]"),a=()=>o("ul",null,i.list.map(((t,e)=>o("check-todo",{done:t.done,text:t.text,n:e,onTodo:t=>function(t){i.list[t].done=!i.list[t].done,l()}(t.detail)})))),p=({comp:t})=>o("form",null,o("input",{type:"text",size:30,placeholder:"add new todo here",ref:o=>t.input=o,onKeyUp:t.onKeyUp}),o("input",{type:"submit",value:"add",onClick:t.onAdd,disabled:t.disabled}));c.style=":host{display:block}a{color:#0088cc;text-decoration:none;margin:4px}ul{padding:0;margin:0 0 9px 0;list-style:none}";export{c as my_todo}