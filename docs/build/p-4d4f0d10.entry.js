import{r as t,c as o,h as e,H as n}from"./p-02dbe508.js";import{c as s}from"./p-6441f8d8.js";const i=class{constructor(e){t(this,e),this.todo=o(this,"todo",7)}render(){return e("li",null,e("label",{class:"checkbox"},e("input",{type:"checkbox",checked:this.done,onClick:()=>this.todo.emit(this.n)}),e("span",{class:{done:this.done}},this.text)))}};i.style=".done{text-decoration:line-through;color:grey}";const{state:c}=s({count:0,list:[{text:"lean TypeScript",done:!0},{text:"build Stencil App",done:!1}]});function l(){c.count=c.list.reduce(((t,o)=>t+(o.done?0:1)),0)}function r(){localStorage.setItem("todo",JSON.stringify({list:c.list})),l()}!function(){const t=localStorage.getItem("todo");if(t){const o=JSON.parse(t);c.list=o.list}l()}();const h=class{constructor(o){t(this,o),this.loading=!0,this.disabled=!0,this.onPurge=t=>{t.preventDefault(),c.list=c.list.filter((t=>!t.done)),r()},this.onAdd=t=>{t.preventDefault(),c.list.push({text:this.input.value,done:!1}),r(),this.input.value="",this.disabled=!0},this.onKeyUp=()=>{this.disabled=!this.input.value}}render(){return((t,o)=>t.loading?setTimeout((()=>t.loading=!1),0):o)(this,e(n,null,e("h2",null,"Todo"),e(a,{purge:this.onPurge}),e(d,null),e(u,{comp:this})))}},a=({purge:t})=>e("span",null,c.count," of ",c.list.length," remaining [",e("a",{href:"",onClick:t},"purge"),"]"),d=()=>e("ul",null,c.list.map(((t,o)=>e("check-todo",{done:t.done,text:t.text,n:o,onTodo:t=>function(t){c.list[t].done=!c.list[t].done,r()}(t.detail)})))),u=({comp:t})=>e("form",null,e("input",{type:"text",size:30,placeholder:"add new todo here",ref:o=>t.input=o,onKeyUp:t.onKeyUp}),e("input",{type:"submit",value:"add",onClick:t.onAdd,disabled:t.disabled}));h.style=":host{display:block}a{color:#0088cc;text-decoration:none;margin:4px}ul{padding:0;margin:0 0 9px 0;list-style:none}";export{i as check_todo,h as my_todo}